(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-productCollection"],{"1fdc":function(t,e,a){"use strict";a("7a82");var o=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.clearProductCollection=function(){return(0,n.default)({method:"POST",url:"/member/productCollection/clear"})},e.createProductCollection=function(t){return(0,n.default)({method:"POST",url:"/member/productCollection/add",data:t})},e.deleteProductCollection=function(t){return(0,n.default)({method:"POST",url:"/member/productCollection/delete",params:t})},e.fetchProductCollectionList=function(t){return(0,n.default)({method:"GET",url:"/member/productCollection/list",params:t})},e.productCollectionDetail=function(t){return(0,n.default)({method:"GET",url:"/member/productCollection/detail",params:t})};var n=o(a("ecb2"))},"3b43":function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-46403fe0],\n.content[data-v-46403fe0]{background:#f8f8f8}body.?%PAGE?%[data-v-46403fe0]{background:#f8f8f8}.hot-section[data-v-46403fe0]{display:flex;flex-wrap:wrap;padding:0 %?30?%;margin-top:%?16?%;background:#fff}.hot-section .guess-item[data-v-46403fe0]{display:flex;flex-direction:row;width:100%;padding-bottom:%?40?%}.hot-section .image-wrapper[data-v-46403fe0]{width:30%;height:%?250?%;border-radius:3px;overflow:hidden}.hot-section .image-wrapper uni-image[data-v-46403fe0]{width:100%;height:100%;opacity:1}.hot-section .title[data-v-46403fe0]{font-size:%?32?%;color:#303133;line-height:%?80?%}.hot-section .title2[data-v-46403fe0]{font-size:%?24?%;color:#909399;line-height:%?40?%;height:%?80?%;overflow:hidden;text-overflow:ellipsis;display:block}.hot-section .price[data-v-46403fe0]{font-size:%?32?%;color:#fa436a;line-height:%?80?%}.hot-section .txt[data-v-46403fe0]{width:70%;display:flex;flex-direction:column;padding-left:%?40?%}.hot-section .hor-txt[data-v-46403fe0]{display:flex;justify-content:space-between}.hot-section .time[data-v-46403fe0]{font-size:%?24?%;color:#303133;line-height:%?80?%}',""]),t.exports=e},4856:function(t,e,a){var o=a("3b43");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=a("4f06").default;n("3eb933a1",o,!0,{sourceMap:!1,shadowMode:!1})},5403:function(t,e,a){"use strict";a.r(e);var o=a("afb1"),n=a.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(i);e["default"]=n.a},a963:function(t,e,a){"use strict";var o=a("4856"),n=a.n(o);n.a},afb1:function(t,e,a){"use strict";a("7a82");var o=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("99af");var n=o(a("c7eb")),i=o(a("1da1")),r=o(a("2017")),c=o(a("4d44")),u=a("17be"),l=a("1fdc"),d={components:{uniLoadMore:c.default,empty:r.default},data:function(){return{loadingType:"more",productList:[],searchParam:{pageNum:1,pageSize:6}}},onLoad:function(t){this.loadData()},onPullDownRefresh:function(){this.loadData("refresh")},onReachBottom:function(){this.searchParam.pageNum++,this.loadData()},onNavigationBarButtonTap:function(t){var e=t.index,a=this;0===e&&uni.showModal({title:"Hint",content:"Do you want to clear all favorites?",success:function(t){t.confirm&&(0,l.clearProductCollection)().then((function(t){a.loadData("refresh")}))}})},filters:{formatDateTime:function(t){if(null==t||""===t)return"N/A";var e=new Date(t);return(0,u.formatDate)(e,"yyyy-MM-dd hh:mm:ss")}},methods:{loadData:function(){var t=arguments,e=this;return(0,i.default)((0,n.default)().mark((function a(){var o,i;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(o=t.length>0&&void 0!==t[0]?t[0]:"add",i=t.length>1?t[1]:void 0,"add"!==o){a.next=8;break}if("nomore"!==e.loadingType){a.next=5;break}return a.abrupt("return");case 5:e.loadingType="loading",a.next=9;break;case 8:e.loadingType="more";case 9:"refresh"===o&&(e.searchParam.pageNum=1,e.productList=[]),(0,l.fetchProductCollectionList)(e.searchParam).then((function(t){var a=t.data.list;0===a.length?(e.loadingType="nomore",e.searchParam.pageNum--):(a.length<e.searchParam.pageSize?(e.loadingType="nomore",e.searchParam.pageNum--):e.loadingType="more",e.productList=e.productList.concat(a)),"refresh"===o&&(1==i?uni.hideLoading():uni.stopPullDownRefresh())}));case 11:case"end":return a.stop()}}),a)})))()},navToDetailPage:function(t){var e=t.productId;uni.navigateTo({url:"/pages/product/product?id=".concat(e)})},stopPrevent:function(){}}};e.default=d},b39ab:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return o}));var o={uniLoadMore:a("4d44").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content"},[null==t.productList||0===t.productList.length?a("empty"):t._e(),a("v-uni-view",{staticClass:"hot-section"},t._l(t.productList,(function(e,o){return a("v-uni-view",{key:o,staticClass:"guess-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.navToDetailPage(e)}}},[a("v-uni-view",{staticClass:"image-wrapper"},[a("v-uni-image",{attrs:{src:e.productPic,mode:"aspectFill"}})],1),a("v-uni-view",{staticClass:"txt"},[a("v-uni-text",{staticClass:"title clamp"},[t._v(t._s(e.productName))]),a("v-uni-text",{staticClass:"title2"},[t._v(t._s(e.productSubTitle))]),a("v-uni-view",{staticClass:"hor-txt"},[a("v-uni-text",{staticClass:"price"},[t._v("$"+t._s(e.productPrice))])],1)],1)],1)})),1),a("uni-load-more",{attrs:{status:t.loadingType}})],1)},i=[]},c2b7:function(t,e,a){"use strict";a.r(e);var o=a("b39ab"),n=a("5403");for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("a963");var r=a("f0c5"),c=Object(r["a"])(n["default"],o["b"],o["c"],!1,null,"46403fe0",null,!1,o["a"],void 0);e["default"]=c.exports}}]);